{% extends "templates/default.html.twig" %}

{% set title = 'Entrar na plataforma' %}
{% set loginActivated = 'actived' %}

{% block content %}
<article class="form container">
    <div class="card border-secundary mb-3 mt-4" style="max-width: 40vw; margin: auto;">
        <h1 class="card-header h4">Entrar na plataforma</h1>
        <section class="card-body">
            {% if alert %}
                <div class="alert alert-dismissible alert-danger">                    
                    <i data-feather="alert-triangle"></i>
                    {{ alert|raw }}
                </div>
            {% endif %}
            <form action="{{ SITE_URL }}/login" method="post">
                <div class="form-group mb-2">
                    <label for="userEmail" class="form-label">E-mail</label>
                    <input autocomplete="username" type="email" class="form-control" id="userEmail" name='email' placeholder="seu.email@gmail.com" required>
                </div>
                
                <div class="form-group mb-2">
                    <label for="userPassword" class="form-label">Senha</label>
                    <input autocomplete="current-password" type="password" class="form-control" id="userPassword"  name='password' placeholder="Insira a sua senha" required>
                    {# <small>
                        <a href="{{ SITE_URL }}/usuario/recuperar-senha">Esqueceu a sua senha?</a>
                    </small> #}
                </div>
                <div class="form-group mx-2">
                    <input type="checkbox" onclick="passwordVisibility()">&nbsp;Exibir senha<br>
                    <input type="checkbox" name="rememberUser" id="rememberUser" value='1' />
                    <label for="rememberUser">Lembrar identificação de usuário</label>
                </div>
                <br>
                <input type="submit" value="Entrar" name="NormalBehavior">
            </form>
            <hr>
            <section>
                <p>Ainda não possui uma conta?<br><a href="{{ SITE_URL }}/criar-conta">Cadastre-se!</a></p>
            </section>
        </section>
    </div>
</article>
{% endblock %}
{% block script %}
    <script type="text/javascript" src="{{ SITE_URL }}/vendor/feather-icons/feather.min.js"></script>
    <script>
        function passwordVisibility() {
            const passwordInput = document.getElementById('userPassword');
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
            } else {
                passwordInput.type = "password";
            }
        }
        feather.replace()
    </script>
{% endblock %}